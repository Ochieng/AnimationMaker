<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="Stylesheet" href="./config.css" type="text/css" />
    <title>AnimationCreator Tool Document</title>
</head>
<body>
    <div id="wrapper">
        <h1>AnimationCreator Tool Document</h1>
    
        <!--このページのリスト-->
        <ol id="sidelist">
            <li><a href="#runwindow">実行</a></li>
            <li><a href="#graphicssame">グラフィックの種類について</a></li>
            <li><a href="#graphicsformat">画像フォーマット対応について</a></li>
            <li><a href="#basedirectory">実行ファイルからの相対パス</a></li>
            <li><a href="#registersimple">単一グラフィックの登録</a></li>
            <li><a href="#registerdivision">分割グラフィックの登録</a></li>
            <li><a href="#registeranimation">アニメーションの登録</a></li>
            <li><a href="#saving">グラフィックのリストを保存</a></li>
            <li><a href="#background">背景の描画と描画位置移動</a></li>
        </ol>

        <!--本文-->
        <div id="main">
            <!--実行状態の確認-->
            <h2 id="runwindow">1. 実行</h2>
            <p>
            ダウンロードし、解凍したディレクトリの中に「bin」ディレクトリがあります.
            そのディレクトリ内にある「AnimationCreator.exe」がツールの実行ファイルです.<br />
            実行すると、下記のようなウィンドウが表示されることを確認してください.<br />
            <img src="./../img/run_window.jpg" alt="実行時のウィンドウ" />
            </p>

            <!--グラフィック種類の確認-->
            <h2 id="graphicssame">2. グラフィックの種類について</h2>
            <p>
            ツール利用において、グラフィックの種類について定義する必要があります.
            以下は、このツールで登録する際に指定できるグラフィックの種類です.
            </p>
            <ol>
                <li>
                単一グラフィック<br />
                画像ファイルを、そのまま1枚のグラフィックとして読み込ませる、最も基本的なグラフィック情報です.
                </li>
                <li>
                分割グラフィック<br />
                画像ファイルを、幾つかのグラフィックが描かれているものとして読み込ませます.<br />
                例としては、数字のグラフィックを列挙した画像ファイルが考えられます.
                </li>
                <li>
                アニメーション<br />
                画像ファイルを、アニメーションとして再生可能なグラフィック群として読み込ませます.<br />
                基本情報は分割グラフィックと同等ですが、アニメーションが可能なように切替を行うフレーム間隔が指定されます.
                </li>
            </ol>
            <p>
            以上の定義を用いて、ツールの使い方を説明します.
            </p>

            <!--画像フォーマットの確認-->
            <h2 id="graphicsformat">3. 画像フォーマット対応について</h2>
            <p>
            このツールが取り扱える画像フォーマットは、JPEG, PNG, BMPの3種類です. 注意してください.
            </p>

            <!--相対パス設定の説明-->
            <h2 id="basedirectory">4. 実行ファイルからの相対パス</h2>
            <p>
            ウィンドウをみると、「実行ファイルからの相対パス」という項目があり、「graphics/」と入力されているテキストボックスがあります.
            これは、登録する画像ファイルを実行ファイル(.exe形式)から見た時、どのディレクトリに存在するかを指定するものです.<br />
            デフォルトのままで問題ない場合はそのままにしておくのが無難かと思われます.
            </p>

            <!--単一グラフィックの登録-->
            <h2 id="registersimple">5. 単一グラフィックの登録</h2>
            <p>
            単一のグラフィック(例. simple.png)を登録してみます.<br />
            新規登録は、画像ファイルをドラッグドロップするか、メニューバーの「編集」から「エントリの追加」で可能です.
            画像ファイルをドラッグドロップすると以下のようになります.<br />
            <img src="./../img/register_simple.jpg" alt="画像をドラッグドロップした状態" /><br />
            左側には、ドラッグドロップした画像(simple.png)がプレビューとして描画されています.
            右側には、「単一グラフィック」と書かれたコンボボックスと、IDを指定できるテキストボックスが表示されます.
            単一グラフィックは、1枚の画像がそのまま1つのグラフィックとして利用されるので、指定するのはこのグラフィックを示すIDのみです.<br />
            試しに「simple_1」をIDとして登録してみます. IDを入力し、下にある「保存」ボタンを押すと登録完了です.
            この時、IDに重複があればエラーが出力されます. グラフィックを大量に登録している場合、「ID重複チェック」ボタンでチェックすると良いでしょう.<br />
            登録すると一番右にある「登録済みリスト」にIDでデータが登録されます.
            </p>

            <!--分割グラフィックの登録-->
            <h2 id="registerdivision">6. 分割グラフィックの登録</h2>
            <p>
            分割グラフィックの数字を羅列した画像(division.png)を登録してみます.<br />
            画像ファイルをドラッグドロップすると以下のように単一のグラフィックとして一度表示されます.<br />
            <img src="./../img/register_division_1.jpg" alt="画像をドラッグドロップした状態" /><br />
            このままでは、単一のグラフィックとして保存してしまうので、右側のコンボボックスから「分割グラフィック」を選択します.
            選択すると、以下の図のようにIDを指定するテキストボックスに幾つかの項目が追加されていると思います.<br />
            <img src="./../img/register_division_2.jpg" alt="コンボボックスから「分割グラフィック」を選択した状態" /><br />
            新しく「横方向の分割数」「縦方向の分割数」「分割数の合計」などと言ったテキストボックスが追加されていると思います.
            ここには、この画像をどのような分割グラフィックとして認識するのか、というパラメータを記述します.
            例に使っているdivision.pngは横方向に10個の数字が並んでおり、縦方向には1個並んでいる状態なので、以下のように入力します.
            分割数合計は、自動的に算出されますが、自分で書き変えることも可能です.<br />
            <img src="./../img/register_division_3.jpg" alt="分割数のパラメータを入力した状態" /><br />
            左のプレビュー画像が変化しています. これは、入力されたパラメータに従ってグラフィックを分割した結果、一番最初のグラフィックを描画しています.
            また、「画像の幅」「画像の高さ」も分割された1枚のグラフィックの幅と高さを表示するように変わっています.<br />
            正しく分割されているのかを見る場合は、後述の<a href="#registeranimation">アニメーションの登録</a>を参考にアニメーションのプレビューを利用すると良いかもしれません.
            </p>

            <!--アニメーションの登録-->
            <h2 id="registeranimation">7. アニメーションの登録</h2>
            <p>
            1つのアニメーションとしてある画像(animation.png)を登録してみます.<br />
            画像ファイルをドラッグドロップすると以下のように単一のグラフィックとして一度表示されます.<br />
            <img src="./../img/register_animation_1.jpg" alt="画像をドラッグドロップした状態" /><br />
            <span class="attention">（注意：画像が途切れていますが、次バージョン以降で修正予定です.)</span><br />
            次に、コンボボックスから「アニメーション」を選択し、アニメーションとして保存するためのパラメータを表示させます.
            選択した状態がこの以下のようになります.<br />
            <img src="./../img/register_animation_2.jpg" alt="コンボボックスから「アニメーション」を選択した状態" /><br />
            右側に表示されているパラメータは分割グラフィックと全く同じことが伺えます. 左下に注目してください.
            「アニメーション設定」の欄が有効になっていることが確認できると思います.<br />
            この部分でアニメーションを切り替える「フレーム間隔」を設定でき、また実際に60FPS環境下ではどのように再生されるのかリアルタイムに表示できます.
            自動再生は「アニメーションを行う」のチェックを外すことで止められます.<br />
            パラメータを設定し、アニメーションを行えるようにしてみましょう. この画像は横に6個、縦に1個並んでいる状態なので、以下の図のように記述します.
            すると、指定されたパラメータに従ってアニメーションが自動再生されます.<br />
            <img src="./../img/register_animation_3.jpg" alt="パラメータを適切に入力し、アニメーションが開始された状態" /><br />
            フレーム間隔を調整することで、アニメーションを好きな速度で再生できます.<br />
            <span class="attention">次バージョン以降でFPSの設定、及び実測値が見れるようにする予定です.</span>
            </p>

            <!--リスト保存-->
            <h2 id="saving">8. グラフィックのリストを保存</h2>
            <p>
            グラフィックを登録したら、ランタイムライブラリが利用できる形にするため、リスト及びグラフィックを保存します.<br />
            メニューバーの「ファイル」から「名前を付けて保存」が可能です.
            この時リストはxmlファイルとして保存されます. 何らかの一意名前を設定し保存してください.<br />
            この時、全ての画像ファイルを「実行ファイルからの相対パス」に指定されたディレクトリを作成しコピーします.
            このコピー操作に幾許かの時間がかかりますのでご注意ください.<br />
            <span class="attention">次バージョン以降でプログレスダイアログを表示し処理時間のおおよそを表示する予定です.</span><br />
            コピー操作も終わると、指定ディレクトリにxmlファイル及び画像ファイルをコピーしたディレクトリが作成されます.<br />
            <span class="attention">
            この2つは常に一対です. 必ず2つとも持ち回ってください.
            次バージョン以降で1つのファイルに全てまとめるように改造するかも知れません.
            </span>
            </p>

            <!--背景描画, 描画位置移動-->
            <h2 id="background">9. 背景の描画と描画位置移動</h2>
            <h3>背景描画</h3>
            <p>
            実際にゲームで描画してみることを仮定し、このツールでは背景画像を設定する事ができます.
            対応フォーマットはグラフィックと同じです.<br />
            左下にある「背景を描画する」にチェックを入れることで、背景画像を設定できます.
            実際にbackground.pngとして設定した画像が以下のようになります.<br />
            <img src="./../img/background.jpg" alt="背景を設定した状態" /><br />
            「背景を描画する」のチェックを外すことで、描画しないこともできます.
            </p>
            <h3>描画位置の移動</h3>
            <p>
            描画位置調整のため、元の描画位置を座標(0,0)として座標を移動できます.
            増加方向は、X方向は右、Y方向が下になっています.<br />
            描画サイズが400 * 300なので、Xの範囲は[-200,200]、Yの範囲は[-150,150]です.<br />
            XとYを80ずつ移動させた場合の例を示します.<br />
            <img src="./../img/move_position.jpg" alt="グラフィックをX方向、Y方向ともに80ずつ移動した状態" /><br />
            </p>
            <p><br /><a href="../index.html">トップページに戻る</a></p>

            <!--全く不要だがcopyright表記-->
            <hr />
            <p class="copyright">copyright (C) 2011 krustf</p>
        </div>
        <!--本文-->
    </div>
</body>
</html>